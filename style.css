/* --- 全局設定 --- */
body {
    font-family: 'Fredoka One', cursive; /* 使用可愛圓體 */
    margin: 0;
    min-height: 100vh;
    background: linear-gradient(135deg, #fdfbfb 0%, #ebedee 100%); /* 柔和背景 */
    background-color: #FFF5F7; /* 備用粉色背景 */
    display: flex;
    justify-content: center;
    align-items: center;
    color: #555;
}

.container {
    text-align: center;
    max-width: 400px;
    width: 100%;
}

h1 {
    font-size: 3em;
    color: #FF8BA7; /* 蜜桃粉 */
    text-shadow: 2px 2px 0px #fff, 4px 4px 0px #eee;
    margin-bottom: 10px;
    letter-spacing: 2px;
}

/* --- 狀態列 --- */
.status-box {
    background: #fff;
    padding: 10px 20px;
    border-radius: 20px;
    box-shadow: 0 4px 6px rgba(0,0,0,0.05);
    display: inline-block;
    margin-bottom: 20px;
    font-size: 1.2em;
    color: #888;
}

/* --- 棋盤區域 --- */
.game-area {
    position: relative;
    padding: 10px;
}

.board {
    width: 300px;
    height: 300px;
    background-color: #fff;
    border-radius: 25px; /* 圓角 */
    padding: 15px;
    box-shadow: 0 10px 25px rgba(0,0,0,0.1); /* 柔和陰影 */
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    grid-template-rows: repeat(3, 1fr);
    gap: 15px;
    margin: 0 auto;
    position: relative; /* 為了讓連線絕對定位 */
}

/* --- 格子樣式 --- */
.cell {
    background-color: #F3F8FF; /* 很淡的藍色 */
    border-radius: 15px;
    font-size: 3.5em;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.2s ease;
    box-shadow: inset 0 4px 6px rgba(0,0,0,0.02);
    user-select: none;
}

.cell:hover {
    background-color: #E6F0FF;
    transform: translateY(-2px);
}

/* 填入 X 的樣式 */
.cell.x {
    color: #FF8BA7; /* 粉紅色 */
    text-shadow: 2px 2px 0px rgba(255, 139, 167, 0.2);
}

/* 填入 O 的樣式 */
.cell.o {
    color: #4ECDC4; /* 蒂芬妮綠/藍 */
    text-shadow: 2px 2px 0px rgba(78, 205, 196, 0.2);
}

/* --- 動畫效果 --- */

/* 棋子出現的彈出動畫 */
@keyframes popIn {
    0% { transform: scale(0); opacity: 0; }
    60% { transform: scale(1.2); }
    100% { transform: scale(1); opacity: 1; }
}

.pop {
    animation: popIn 0.4s cubic-bezier(0.68, -0.55, 0.27, 1.55) forwards;
}

/* --- 連線動畫 (贏的時候) --- */
/* --- style.css --- */
.winning-line {
    position: absolute;
    background-color: #FFD93D; /* 亮黃色 */
    height: 8px; /* 線條稍微加粗一點比較可愛 */
    border-radius: 5px;
    z-index: 10;
    display: none;
    
    /* 關鍵修正：讓線條預設是「置中」的 */
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%); 
    transform-origin: center center; /* 旋轉中心設在正中間 */
    
    box-shadow: 0 0 10px rgba(255, 217, 61, 0.8);
    transition: width 0.4s ease-out; /* 動畫時間 */
    width: 0; /* 預設寬度為 0 */
}

/* 線條展開動畫 */
@keyframes drawLine {
    to { width: 90%; } 
}

/* --- 按鈕樣式 --- */
.btn-restart {
    margin-top: 30px;
    background-color: #FF8BA7;
    color: white;
    border: none;
    padding: 12px 30px;
    font-size: 1.2em;
    border-radius: 50px;
    font-family: 'Fredoka One', cursive;
    cursor: pointer;
    box-shadow: 0 4px 0 #E06C88; /* 按鈕立體感 */
    transition: all 0.1s;
}

.btn-restart:active {
    transform: translateY(4px);
    box-shadow: 0 0 0 #E06C88;
}
